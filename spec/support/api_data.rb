RSpec.configure do |config|
  config.before(:each) do

    stub_request(:get, /currencydatafeed.com/ )
    .with(headers: {
      'Accept': '*/*'
    }).to_return(status: 200, body:
      '{
        "status":   true,
        "currency": [
          {
            "currency": "USD/BRL",
            "value":    "3.41325",
            "date":     "2018-04-20 17:22:59",
            "type":     "original"
          }
        ]
      }', headers: {})

    stub_request(:get, /blockchain.info\/tobtc/ )
    .with(headers: {
      'Accept': '*/*'
    }).to_return(status: 200, body:
      '0.07749089', headers: {})

    stub_request(:get, /blockchain.info\/ticker/ )
    .with(headers: {
      'Accept': '*/*'
    }).to_return(status: 200, body:
      '{
         "USD": { "15m": "6146.3708307",       "last": "6146.3708307",       "buy": "6146.3708307",       "sell": "6146.3708307",       "symbol": "$"},
         "AUD": { "15m": "8259.032144482357",  "last": "8259.032144482357",  "buy": "8259.032144482357",  "sell": "8259.032144482357",  "symbol": "$"},
         "BRL": { "15m": "23270.774602113266", "last": "23270.774602113266", "buy": "23270.774602113266", "sell": "23270.774602113266", "symbol": "R$"},
         "CAD": { "15m": "8160.346014424638",  "last": "8160.346014424638",  "buy": "8160.346014424638",  "sell": "8160.346014424638",  "symbol": "$"},
         "CHF": { "15m": "6075.0421972097265", "last": "6075.0421972097265", "buy": "6075.0421972097265", "sell": "6075.0421972097265", "symbol": "CHF"},
         "CLP": { "15m": "3923228.5012358096", "last": "3923228.5012358096", "buy": "3923228.5012358096", "sell": "3923228.5012358096", "symbol": "$"},
         "CNY": { "15m": "39983.37152786964",  "last": "39983.37152786964",  "buy": "39983.37152786964",  "sell": "39983.37152786964",  "symbol": "¥"},
         "DKK": { "15m": "39297.528738725974", "last": "39297.528738725974", "buy": "39297.528738725974", "sell": "39297.528738725974", "symbol": "kr"},
         "EUR": { "15m": "5265.8721924",       "last": "5265.8721924",       "buy": "5265.8721924",       "sell": "5265.8721924",       "symbol": "€"},
         "GBP": { "15m": "4633.810432973037",  "last": "4633.810432973037",  "buy": "4633.810432973037",  "sell": "4633.810432973037",  "symbol": "£"},
         "HKD": { "15m": "48235.79632370899",  "last": "48235.79632370899",  "buy": "48235.79632370899",  "sell": "48235.79632370899",  "symbol": "$"},
         "INR": { "15m": "417123.45642545546", "last": "417123.45642545546", "buy": "417123.45642545546", "sell": "417123.45642545546", "symbol": "₹"},
         "ISK": { "15m": "666118.7163656934",  "last": "666118.7163656934",  "buy": "666118.7163656934",  "sell": "666118.7163656934",  "symbol": "kr"},
         "JPY": { "15m": "679948.7003409001",  "last": "679948.7003409001",  "buy": "679948.7003409001",  "sell": "679948.7003409001",  "symbol": "¥"},
         "KRW": { "15m": "6835071.682279934",  "last": "6835071.682279934",  "buy": "6835071.682279934",  "sell": "6835071.682279934",  "symbol": "₩"},
         "NZD": { "15m": "8898.71568868746",   "last": "8898.71568868746",   "buy": "8898.71568868746",   "sell": "8898.71568868746",   "symbol": "$"},
         "PLN": { "15m": "22788.81307979476",  "last": "22788.81307979476",  "buy": "22788.81307979476",  "sell": "22788.81307979476",  "symbol": "zł"},
         "RUB": { "15m": "387067.7030633325",  "last": "387067.7030633325",  "buy": "387067.7030633325",  "sell": "387067.7030633325",  "symbol": "RUB"},
         "SEK": { "15m": "54423.04052043315",  "last": "54423.04052043315",  "buy": "54423.04052043315",  "sell": "54423.04052043315",  "symbol": "kr"},
         "SGD": { "15m": "8348.61549933981",   "last": "8348.61549933981",   "buy": "8348.61549933981",   "sell": "8348.61549933981",   "symbol": "$"},
         "THB": { "15m": "202234.03944252207", "last": "202234.03944252207", "buy": "202234.03944252207", "sell": "202234.03944252207", "symbol": "฿"},
         "TWD": { "15m": "186314.93899100908", "last": "186314.93899100908", "buy": "186314.93899100908", "sell": "186314.93899100908", "symbol": "NT$"}
      }', headers: {})

  end
end
